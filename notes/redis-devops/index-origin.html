<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="description" content="Redis 学习笔记">
<meta name="keywords" content="Redis">
<meta name="author" content="MacGuff">
<title>Redis 开发与运维</title>
<link rel="stylesheet" href="/assets/google-fonts.css">
<link rel="stylesheet" href="assets/css/asciidoctor.css">
<link rel="stylesheet" href="/assets/font-awesome.min.css">
<link rel="stylesheet" href="assets/css/coderay-asciidoctor.css"></head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Redis 开发与运维</h1>
<div class="details">
<span id="author" class="author">MacGuff</span><br>
<span id="email" class="email"><a href="https://macguff.github.io" class="bare">https://macguff.github.io</a></span><br>
<span id="revdate">2020-06-24</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">目录</div>
<ul class="sectlevel1">
<li><a href="#_api使用">1. api使用</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_api使用">1. api使用</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_预备">预备</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>全局命令</p>
<div class="dlist">
<dl>
<dt class="hdlist1">keys *</dt>
<dd>
<p>查看所有键</p>
</dd>
<dt class="hdlist1">dbsize</dt>
<dd>
<p>键总数</p>
</dd>
<dt class="hdlist1">exists</dt>
<dd>
<p>键是否存在</p>
</dd>
<dt class="hdlist1">del</dt>
<dd>
<p>删除键，存在返回1,不存在返回0,可以删除多个键</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>127.0.0.1:6379&gt; del not_exist_key
(integer) 0
127.0.0.1:6379&gt; set a 1
OK
127.0.0.1:6379&gt; set b 2
OK
127.0.0.1:6379&gt; set c 3
OK
127.0.0.1:6379&gt; del a b c
(integer) 3</code></pre>
</div>
</div>
</dd>
<dt class="hdlist1">expire</dt>
<dd>
<p>键过期<br>
`ttl`命令返回键过期时间，有三种返回值：<br>
大于0：键剩余的过期时间<br>
-1：键没有设置过期时间<br>
-2：键不存在</p>
<div class="listingblock">
<div class="content">
<pre>127.0.0.1:6379&gt; set a 1
OK
127.0.0.1:6379&gt; expire a 100
(integer) 1
127.0.0.1:6379&gt; ttl a
(integer) 90
127.0.0.1:6379&gt; ttl a
(integer) 87
127.0.0.1:6379&gt; del a
(integer) 1
127.0.0.1:6379&gt; ttl a
(integer) -2</pre>
</div>
</div>
</dd>
<dt class="hdlist1">type</dt>
<dd>
<p>键的数据结构类型</p>
</dd>
</dl>
</div>
</li>
<li>
<p>数据结构和内部编码</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="assets/images/redis-2-2.png" alt="redis 2 2">
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
最后更新时间 2020-06-24 01:12:18 +0800
</div>
</div>
<link rel="stylesheet" href="assets/css/coderay-asciidoctor.css">
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="/assets/mathjax.js"></script>
</body>
</html>